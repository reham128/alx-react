{"ast":null,"code":"import React,{Component}from'react';import{StyleSheet,css}from'aphrodite';import Notifications from\"../Notifications/Notifications\";import Header from\"../Header/Header\";import Login from\"../Login/Login\";import Footer from\"../Footer/Footer\";import CourseList from'../CourseList/CourseList';import{getLatestNotification}from'../utils/utils';import BodySectionWithMarginBottom from'../BodySection/BodySectionWithMarginBottom';import BodySection from'../BodySection/BodySection';import{AppContext,defaultUser}from'./AppContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class App extends Component{constructor(props){super(props);this.listCourses=[{id:1,name:'ES6',credit:60},{id:2,name:'Webpack',credit:20},{id:3,name:'React',credit:40}];this.state={displayDrawer:false,user:defaultUser,listNotifications:[{id:1,type:'default',value:'New course available'},{id:2,type:'urgent',value:'New resume available'},{id:3,type:'urgent',html:getLatestNotification()}]};this.handleKeyPress=this.handleKeyPress.bind(this);this.handleDisplayDrawer=this.handleDisplayDrawer.bind(this);this.handleHideDrawer=this.handleHideDrawer.bind(this);this.logIn=this.logIn.bind(this);this.logOut=this.logOut.bind(this);this.markNotificationAsRead=this.markNotificationAsRead.bind(this);}componentDidMount(){document.addEventListener('keydown',this.handleKeyPress);}componentWillUnmount(){document.removeEventListener('keydown',this.handleKeyPress);}handleKeyPress(e){if(e.ctrlKey&&e.key==='h'){alert('Logging you out');this.props.logOut();}}handleDisplayDrawer(){this.setState({displayDrawer:true});}handleHideDrawer(){this.setState({displayDrawer:false});}markNotificationAsRead(id){this.setState(prevState=>({listNotifications:prevState.listNotifications.filter(notif=>notif.id!==id)}));}logIn(email,password){this.setState({user:{email,password,isLoggedIn:true}});}logOut(){this.setState({user:defaultUser});}render(){const{displayDrawer,user,listNotifications}=this.state;return/*#__PURE__*/_jsx(AppContext.Provider,{value:{user,logOut:this.logOut},children:/*#__PURE__*/_jsxs(\"div\",{className:css(styles.App),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Notifications,{listNotifications:listNotifications,displayDrawer:displayDrawer,handleDisplayDrawer:this.handleDisplayDrawer,handleHideDrawer:this.handleHideDrawer,markNotificationAsRead:this.markNotificationAsRead}),/*#__PURE__*/_jsx(Header,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:css(styles.body),children:[user.isLoggedIn?/*#__PURE__*/_jsx(BodySectionWithMarginBottom,{title:\"Course list\",children:/*#__PURE__*/_jsx(CourseList,{listCourses:this.listCourses})}):/*#__PURE__*/_jsx(BodySectionWithMarginBottom,{title:\"Log in to continue\",children:/*#__PURE__*/_jsx(Login,{logIn:this.logIn})}),/*#__PURE__*/_jsx(BodySection,{title:\"News from the School\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis, explicabo cupiditate! Voluptas maxime omnis, incidunt sapiente odit quae sint possimus cumque corrupti quos atque quam repudiandae ducimus rem, commodi error!\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:css(styles.footer),children:/*#__PURE__*/_jsx(Footer,{})})]})});}}const styles=StyleSheet.create({App:{height:'100vh',fontSize:'1.2rem',padding:'1rem'},body:{borderBottom:'4px solid #e0364b',padding:'2rem',height:'100%'},footer:{paddingTop:'2rem',fontStyle:'italic',fontSize:'1.2rem',textAlign:'center'}});App.defaultProps={isLoggedIn:false,logOut:()=>{}};export default App;","map":{"version":3,"names":["React","Component","StyleSheet","css","Notifications","Header","Login","Footer","CourseList","getLatestNotification","BodySectionWithMarginBottom","BodySection","AppContext","defaultUser","jsx","_jsx","jsxs","_jsxs","App","constructor","props","listCourses","id","name","credit","state","displayDrawer","user","listNotifications","type","value","html","handleKeyPress","bind","handleDisplayDrawer","handleHideDrawer","logIn","logOut","markNotificationAsRead","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","e","ctrlKey","key","alert","setState","prevState","filter","notif","email","password","isLoggedIn","render","Provider","children","className","styles","body","title","footer","create","height","fontSize","padding","borderBottom","paddingTop","fontStyle","textAlign","defaultProps"],"sources":["/root/alx-react/0x07-react_redux_action_creator_normalizr/task_7/dashboard/src/App/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport PropTypes from 'prop-types';\nimport Notifications from \"../Notifications/Notifications\";\nimport Header from \"../Header/Header\";\nimport Login from \"../Login/Login\";\nimport Footer from \"../Footer/Footer\";\nimport CourseList from '../CourseList/CourseList';\nimport { getLatestNotification } from '../utils/utils';\nimport BodySectionWithMarginBottom from '../BodySection/BodySectionWithMarginBottom';\nimport BodySection from '../BodySection/BodySection';\nimport { AppContext, defaultUser } from './AppContext';\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      displayDrawer: false,\n      user: defaultUser,\n      listNotifications: [\n        { id: 1, type: 'default', value: 'New course available' },\n        { id: 2, type: 'urgent', value: 'New resume available' },\n        { id: 3, type: 'urgent', html: getLatestNotification() },\n      ],\n    };\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.handleDisplayDrawer = this.handleDisplayDrawer.bind(this);\n    this.handleHideDrawer = this.handleHideDrawer.bind(this);\n    this.logIn = this.logIn.bind(this);\n    this.logOut = this.logOut.bind(this);\n    this.markNotificationAsRead = this.markNotificationAsRead.bind(this);\n  }\n\n  listCourses = [\n    { id: 1, name: 'ES6', credit: 60 },\n    { id: 2, name: 'Webpack', credit: 20 },\n    { id: 3, name: 'React', credit: 40 },\n  ];\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress(e) {\n    if (e.ctrlKey && e.key === 'h') {\n      alert('Logging you out');\n      this.props.logOut();\n    }\n  }\n\n  handleDisplayDrawer() {\n    this.setState({ displayDrawer: true });\n  }\n\n  handleHideDrawer() {\n    this.setState({ displayDrawer: false });\n  }\n\n  markNotificationAsRead(id) {\n    this.setState((prevState) => ({\n      listNotifications: prevState.listNotifications.filter(\n        (notif) => notif.id !== id\n      ),\n    }));\n  }\n\n\n  logIn(email, password) {\n    this.setState({\n      user: {\n        email,\n        password,\n        isLoggedIn: true,\n      },\n    });\n  }\n\n  logOut() {\n    this.setState({\n      user: defaultUser,\n    });\n  }\n\n  render() {\n    const { displayDrawer, user, listNotifications } = this.state;\n\n    return (\n      <AppContext.Provider value={{ user, logOut: this.logOut }}>\n        <div className={css(styles.App)}>\n          <div>\n            <Notifications\n              listNotifications={listNotifications}\n              displayDrawer={displayDrawer}\n              handleDisplayDrawer={this.handleDisplayDrawer}\n              handleHideDrawer={this.handleHideDrawer}\n              markNotificationAsRead={this.markNotificationAsRead}\n            />\n            <Header />\n          </div>\n          <div className={css(styles.body)}>\n            {user.isLoggedIn ? (\n              <BodySectionWithMarginBottom title='Course list'>\n                <CourseList listCourses={this.listCourses} />\n              </BodySectionWithMarginBottom>\n            ) : (\n              <BodySectionWithMarginBottom title='Log in to continue'>\n                <Login logIn={this.logIn} />\n              </BodySectionWithMarginBottom>\n            )}\n            <BodySection title='News from the School'>\n              <p>\n                Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis,\n                explicabo cupiditate! Voluptas maxime omnis, incidunt sapiente\n                odit quae sint possimus cumque corrupti quos atque quam\n                repudiandae ducimus rem, commodi error!\n              </p>\n            </BodySection>\n          </div>\n          <div className={css(styles.footer)}>\n            <Footer />\n          </div>\n        </div>\n      </AppContext.Provider>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  App: {\n    height: '100vh',\n    fontSize: '1.2rem',\n    padding: '1rem',\n  },\n\n  body: {\n    borderBottom: '4px solid #e0364b',\n    padding: '2rem',\n    height: '100%',\n  },\n\n  footer: {\n    paddingTop: '2rem',\n    fontStyle: 'italic',\n    fontSize: '1.2rem',\n    textAlign: 'center',\n  },\n});\n\nApp.defaultProps = {\n  isLoggedIn: false,\n  logOut: () => { },\n};\n\nApp.propTypes = {\n  isLoggedIn: PropTypes.bool,\n  logOut: PropTypes.func,\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}